<ng-container *ngIf="data$ | async as data">
  <mat-tab-group mat-align-tabs="start" *ngIf="data.weeks.length > 0">
    <mat-tab *ngFor="let week of data.weeks">
      <ng-template mat-tab-label>
        <div class="week-num">Week {{ week.number }}</div>
        <div>
          {{ week.date | date: "dd/MM" }}
        </div>
      </ng-template>
      <app-twelve-week-year-tab
        [week]="week"
        [goals]="data.goals"
        [taskResults]="data.taskResults"
      ></app-twelve-week-year-tab>
    </mat-tab>
    <mat-tab>
      <ng-template mat-tab-label>
        <div class="week-num">Final Thougts</div>
      </ng-template>
      <app-final-thoughts></app-final-thoughts>
    </mat-tab>
  </mat-tab-group>
</ng-container>
